{"version":3,"file":"static/js/989.45a878ee.chunk.js","mappings":"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","sources":["hooks/useFollow.js","components/nofeed.js","components/post/hooks/use-post.js","components/post/components/actions.js","components/post/components/body.js","helpers/formatTime.js","components/post/components/comment.js","components/post/components/container.js","components/post/components/head.js","components/post/components/index.js","components/suggestions/components/suggestion.js","components/suggestions/index.js","pages/home.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-loading-skeleton/dist/index.mjs"],"sourcesContent":["import { useReducer } from \"react\"\r\nimport { followOrUnfollowUser } from \"../firebase/backend/services\"\r\n\r\nconst ACTIONS = {\r\n    LOAD: 1,\r\n    ERROR: 2,\r\n    SET_FOLLOWING: 3\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case ACTIONS.LOAD:\r\n            return { ...state, loading: true }\r\n\r\n        case ACTIONS.SET_FOLLOWING:\r\n            return { following: !state.following, loading: false, error: false }\r\n\r\n        default:\r\n            return { ...state, error: true, loading: false }\r\n\r\n    }\r\n}\r\n\r\nexport default function useFollow(user, username, isUserFollowing) {\r\n    const [followState, dispatch] = useReducer(reducer, { following: isUserFollowing, loading: false });\r\n\r\n    const handleFollow = async () => {\r\n        try {\r\n            dispatch({ type: ACTIONS.LOAD })\r\n            //if user already following then do unfollow vice versa\r\n            await followOrUnfollowUser(user.username, username, !followState.following)\r\n            dispatch({ type: ACTIONS.SET_FOLLOWING })\r\n        }\r\n        catch (err) {\r\n            dispatch({ type: ACTIONS.ERROR })\r\n        }\r\n    }\r\n\r\n    return { followState, handleFollow }\r\n\r\n\r\n}","export default function NoFeed() {\r\n    return (\r\n        <div className=\"flex items-center justify-center flex-col gap-4 p-5\">\r\n            <img src={process.env.PUBLIC_URL + \"/images/tick1.png\"} alt=\"tick\" className=\"w-10 h-10 sm:w-20 sm:h-20 select-none\" />\r\n            <div className=\"flex flex-col justify-center items-center\">\r\n                <h1 className=\"font-light text-2xl text-center\">You're all caught up</h1>\r\n                <h2 className=\" text-md font-semibold text-center\">Follow more people to get more posts.</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useReducer } from \"react\";\r\nimport { getPost, likePost } from \"../../../firebase/backend/services\";\r\n\r\nconst INITIAL_STATE = {\r\n    post: null,\r\n    likeCount: 0,\r\n    userLiked: false\r\n}\r\n\r\nconst reducer = (state, newState) => ({ ...state, ...newState })\r\nconst checkUserLiked = (likes, userId) => !!likes.filter(likedId => likedId === userId).length\r\n\r\nexport default function usePost(userId, postId) {\r\n    const [state, dispatch] = useReducer(reducer, INITIAL_STATE)\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async () => {\r\n            const post = await getPost(postId);\r\n            if (post) {\r\n                dispatch({ post, likeCount: post.likes.length, userLiked: checkUserLiked(post.likes, userId) })\r\n            }\r\n        }\r\n        fetchPost()\r\n    }, [postId, userId])\r\n\r\n    const doLike = async (op) => {\r\n        await likePost(postId, userId, op)\r\n    }\r\n\r\n\r\n    return { ...state, doLike, dispatch }\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\n\r\nexport default function Actions({ likeCount, userLiked, doLike, dispatch }) {\r\n\r\n    const [toggleLike, setToggleLike] = useState(userLiked)\r\n    // console.log(timeStamp)\r\n\r\n    useEffect(() => {\r\n        if (toggleLike === userLiked)\r\n            return;\r\n        (async () => {\r\n            try {\r\n                await doLike(toggleLike)\r\n                dispatch({ userLiked: !userLiked, likeCount: likeCount + (-1) ** Number(!toggleLike) })\r\n            }\r\n            catch (err) {\r\n                console.log(err.message)\r\n                setToggleLike(prev => !prev)\r\n            }\r\n        })()\r\n\r\n\r\n    }, [toggleLike])\r\n\r\n    return (\r\n        <div className=\"flex items-start flex-col p-3 pb-0 \">\r\n            <div className=\"flex items-start gap-x-3\">\r\n                <svg\r\n                    onClick={() => setToggleLike(prev => !prev)}\r\n                    className={`w-6 h-6 ${toggleLike && 'fill-red text-red'}`}\r\n                    xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z\" />\r\n                </svg>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 01-.923 1.785A5.969 5.969 0 006 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337z\" />\r\n                </svg>\r\n            </div>\r\n            <h1 className='font-bold pl-1 select-none'>{`${likeCount} like${likeCount === 1 ? '' : 's'}`}</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nexport default function Body({ imageUrl }) {\r\n    const [imgLoading, setImgLoading] = useState(true)\r\n    return (\r\n        <div className='w-full'>\r\n            {imgLoading && <Skeleton className='w-full aspect-square' />}\r\n            <img\r\n                src={imageUrl} alt=\"img\"\r\n                className='w-full object-cover aspect-square select-none'\r\n                onLoad={() => setImgLoading(false)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","export default function timeDifference({ seconds, nanoseconds }) {\r\n    const current = Date.now()\r\n    const msPerMinute = 60 * 1000;\r\n    const msPerHour = msPerMinute * 60;\r\n    const msPerDay = msPerHour * 24;\r\n    const msPerMonth = msPerDay * 30;\r\n    const msPerYear = msPerDay * 365;\r\n\r\n    const postedAt = (seconds + nanoseconds * 0.000000001) * 1000\r\n\r\n    const elapsed = current - postedAt;\r\n\r\n    if (elapsed < msPerMinute) {\r\n        return Math.round(elapsed / 1000) + ' seconds ago';\r\n    }\r\n\r\n    else if (elapsed < msPerHour) {\r\n        return Math.round(elapsed / msPerMinute) + ' minutes ago';\r\n    }\r\n\r\n    else if (elapsed < msPerDay) {\r\n        return Math.round(elapsed / msPerHour) + ' hours ago';\r\n    }\r\n\r\n    else if (elapsed < msPerMonth) {\r\n        return Math.round(elapsed / msPerDay) + ' days ago';\r\n    }\r\n\r\n    else if (elapsed < msPerYear) {\r\n        return Math.round(elapsed / msPerMonth) + ' months ago';\r\n    }\r\n\r\n    else {\r\n        return Math.round(elapsed / msPerYear) + ' years ago';\r\n    }\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { commentPost } from '../../../firebase/backend/services'\r\nimport formatTime from \"../../../helpers/formatTime\"\r\nimport UserContext from \"../../../contexts/user\"\r\n\r\nexport default function Comment({ comments, postedAt, postId }) {\r\n\r\n  const [comment, setComment] = useState('')\r\n  const [filteredComments, setFilteredComments] = useState(comments.slice(-3))\r\n  const { username } = useContext(UserContext)\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    commentPost(postId, username, comment)\r\n      .then(() => setFilteredComments(prev => [...(prev.slice(-2)), { username, comment }]))\r\n      .finally(() => setComment(''))\r\n  }\r\n\r\n  return (\r\n    <div className='pt-1'>\r\n      <ul className='flex flex-col gap-y-1 pb-1'>\r\n        {filteredComments.map((comment, i) => <li key={i} className='flex items-center justify-start gap-x-2 px-4 '>\r\n          <h2 className='font-semibold'>{comment.username}</h2>\r\n          <p>{comment.comment}</p>\r\n        </li>)}\r\n      </ul>\r\n      <p className='text-gray-500 text-xs px-4 pb-2'>{formatTime(postedAt)}</p>\r\n      <form onSubmit={handleSubmit} className='flex items-center w-full pr-4 bg-lightGray border-t'>\r\n        <input value={comment} className='w-full p-4 outline-none grow ' placeholder='Add comment...' onChange={(e) => setComment(e.target.value)} />\r\n        <button disabled={comment === ''} className={`${comment ? 'text-blue' : 'text-gray-300'} bg-white font-semibold`}>Post</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nexport default function Container({ isLoading, children }) {\r\n    return (\r\n        <div className='border rounded w-full mb-5'>\r\n            {!isLoading ? children : <Skeleton className='w-full aspect-[4/5]' />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { generatePath, Link } from 'react-router-dom'\r\nimport * as ROUTES from \"../../../constants/routes\"\r\n\r\nexport default function Head({ postedBy }) {\r\n    return (\r\n        <div className=\"border-b flex items-center justify-start p-3\">\r\n            <img src={postedBy.profileUrl || process.env.PUBLIC_URL + \"/DEFAULT.png\"} className=\"w-6 h-6 rounded-full overflow-hidden\" alt=\"no-profile\" />\r\n            <div className=\"grow\">\r\n                <Link to={generatePath(ROUTES.PROFILE, { username: postedBy.username })}>\r\n                    <h1 className=\"font-semibold text-md pl-2 flex items-center justify-start gap-1\">\r\n                        {postedBy.username}\r\n                        {postedBy.isOfficial && <span><img className='w-3 inline-block' src={process.env.PUBLIC_URL + \"/images/verified.png\"} alt=\"verified\" /></span>}\r\n                    </h1>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { memo } from \"react\"\r\nimport usePost from \"../hooks/use-post\"\r\nimport Actions from \"./actions\"\r\nimport Body from \"./body\"\r\nimport Comment from \"./comment\"\r\nimport Container from \"./container\"\r\nimport Head from \"./head\"\r\n\r\n\r\nexport default memo(function Post({ userId, postId }) {\r\n    const { post, ...actions } = usePost(userId, postId)\r\n\r\n    return (\r\n        <Container isLoading={!post}>\r\n            <Head postedBy={post?.postedBy} />\r\n            <Body imageUrl={post?.imageUrl} />\r\n            <Actions {...actions} />\r\n            <Comment comments={post?.comments} postedAt={post?.postedAt} postId={postId} />\r\n        </Container>\r\n\r\n    )\r\n})","import React, { useContext } from 'react'\r\nimport { generatePath, Link } from 'react-router-dom'\r\nimport { PROFILE } from '../../../constants/routes'\r\nimport UserContext from '../../../contexts/user'\r\nimport useFollow from '../../../hooks/useFollow'\r\n\r\nexport default function Suggestion({ profile }) {\r\n    const user = useContext(UserContext)\r\n    const { followState, handleFollow } = useFollow(user, profile.username, false)\r\n\r\n    return (\r\n        <div className='flex items-center justify-center p-1  w-48'>\r\n            <div className=\"w-10 h-10 flex items-center justify-center\">\r\n                <img src={profile.profileUrl || process.env.PUBLIC_URL + \"/DEFAULT.png\"} alt={profile.username + \"-profile-pic\"} className=\"w-6 aspect-square rounded-full\" />\r\n            </div>\r\n\r\n            <div className=\"grow flex  items-center justify-between\">\r\n                <Link to={generatePath(PROFILE, { username: profile.username })}>\r\n                    <h1 className=\"font-semibold text-md cursor-pointer\">{profile.username}</h1>\r\n                </Link>\r\n                <h3 onClick={handleFollow} disabled={followState.loading}\r\n                    className='font-bold text-blue cursor-pointer'>\r\n                    {!followState.following ? 'Follow' : 'Following'}\r\n                </h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useReducer } from 'react'\r\nimport Skeleton from 'react-loading-skeleton'\r\nimport { getSuggestions } from '../../firebase/backend/services'\r\nimport Suggestion from './components/suggestion'\r\n\r\nconst INITIAL_STATE = {\r\n    suggestedProfiles: [],\r\n    loading: true\r\n}\r\n\r\nconst render = (state, newState) => ({ ...state, ...newState })\r\n\r\nexport default function Suggestions({ username }) {\r\n\r\n    const [state, dispatch] = useReducer(render, INITIAL_STATE)\r\n\r\n    useEffect(() => {\r\n        const getSuggestedProfiles = async () => {\r\n            const suggestedProfiles = await getSuggestions(username)\r\n            console.log(suggestedProfiles)\r\n            dispatch({ suggestedProfiles, loading: false })\r\n        }\r\n\r\n        getSuggestedProfiles()\r\n    }, [username])\r\n\r\n    return (\r\n        <div className=\"p-4 hidden sm:block\">\r\n            <h1 className='font-semibold'>Suggestion for you</h1>\r\n            {state.loading ?\r\n                <Skeleton count={4} className=\"p-1 mt-1\" /> :\r\n                state.suggestedProfiles.map(suggestedProfile => {\r\n                    return <Suggestion key={suggestedProfile.username} profile={suggestedProfile} />\r\n                })}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport NoFeed from '../components/nofeed'\r\nimport Post from '../components/post/components/index'\r\nimport Suggestions from '../components/suggestions'\r\nimport UserContext from '../contexts/user'\r\nimport Loading from \"../components/loading\"\r\nimport { getFeed } from '../firebase/backend/services'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nexport default function Home() {\r\n    const user = useContext(UserContext)\r\n    const [feed, setFeed] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const updateFeed = async () => {\r\n            const res = await getFeed(user.username)\r\n            console.log(\"feed\", res)\r\n            setFeed(res)\r\n\r\n        }\r\n        updateFeed()\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-3 p-2 max-w-[42rem] mx-auto grow\">\r\n            <div className=\"col-span-3 sm:col-span-2 p-5 overflow-auto\">\r\n                {feed ?\r\n                    feed.map(postId => <Post userId={user.username} key={postId} postId={postId} />) :\r\n                    <Skeleton className='aspect-[4/5] mb-5' count={2} />\r\n                }\r\n                <hr />\r\n                <NoFeed />\r\n            </div>\r\n            <Suggestions username={user.username} />\r\n        </div>\r\n\r\n    )\r\n}\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b, _c;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    const countCeil = Math.ceil(count);\n    for (let i = 0; i < countCeil; i++) {\n        let thisStyle = style;\n        if (countCeil > count && i === countCeil - 1) {\n            // count is not an integer and we've reached the last iteration of\n            // the loop, so add a \"fractional\" skeleton.\n            //\n            // For example, if count is 3.5, we've already added 3 full\n            // skeletons, so now we add one more skeleton that is 0.5 times the\n            // original width.\n            const width = (_b = thisStyle.width) !== null && _b !== void 0 ? _b : '100%'; // 100% is the default since that's what's in the CSS\n            const fractionalPart = count % 1;\n            const fractionalWidth = typeof width === 'number'\n                ? width * fractionalPart\n                : `calc(${width} * ${fractionalPart})`;\n            thisStyle = { ...thisStyle, width: fractionalWidth };\n        }\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: thisStyle, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            // Without the <br />, the skeleton lines will all run together if\n            // `width` is specified\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_c = styleOptions.enableAnimation) !== null && _c !== void 0 ? _c : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n"],"names":["ACTIONS","reducer","state","action","type","loading","following","error","useFollow","user","username","isUserFollowing","useReducer","followState","dispatch","handleFollow","followOrUnfollowUser","NoFeed","className","src","process","alt","INITIAL_STATE","post","likeCount","userLiked","newState","checkUserLiked","likes","userId","filter","likedId","length","Actions","doLike","useState","toggleLike","setToggleLike","useEffect","Number","console","log","message","prev","onClick","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","Body","imageUrl","imgLoading","setImgLoading","onLoad","timeDifference","seconds","nanoseconds","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Date","now","Math","round","Comment","comments","postedAt","postId","comment","setComment","slice","filteredComments","setFilteredComments","useContext","UserContext","map","i","formatTime","onSubmit","e","preventDefault","commentPost","then","finally","value","placeholder","onChange","target","disabled","Container","isLoading","children","Head","postedBy","profileUrl","to","generatePath","ROUTES","isOfficial","memo","fetchPost","getPost","op","likePost","usePost","actions","Suggestion","profile","PROFILE","suggestedProfiles","render","Suggestions","getSuggestedProfiles","getSuggestions","count","suggestedProfile","Home","feed","setFeed","updateFeed","getFeed","res","_objectWithoutProperties","source","excluded","key","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","SkeletonThemeContext","React","Skeleton","_a","_b","_c","Wrapper","wrapper","customClassName","containerClassName","containerTestId","circle","styleProp","style","originalPropsStyleOptions","contextStyleOptions","propsStyleOptions","entries","styleOptions","baseColor","highlightColor","width","height","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","countCeil","ceil","thisStyle","fractionalPart","fractionalWidth","skeletonSpan","push","el"],"sourceRoot":""}