{"version":3,"file":"static/js/615.7f91a517.chunk.js","mappings":"+PAMe,SAASA,IAEpB,OAAwBC,EAAAA,EAAAA,UAAS,MAAK,eAA/BC,EAAI,KAAEC,EAAO,KACpB,GAAsBF,EAAAA,EAAAA,UAAS,IAAG,eAA3BG,EAAG,KAAEC,EAAM,KAClB,GAAkCJ,EAAAA,EAAAA,WAAS,GAAM,eAA1CK,EAAS,KAAEC,EAAY,MAE9BC,EAAAA,EAAAA,YAAU,WACNC,SAASC,MAAQ,kBACrB,GAAG,IAEH,IAAQC,GAAaC,EAAAA,EAAAA,YAAWC,EAAAA,GAAxBF,UAERH,EAAAA,EAAAA,YAAU,WACN,IAAMM,EAAS,yCAAG,kHACqCC,EAAAA,EAAAA,IAAsBJ,GAAS,gBAA1EK,EAAQ,EAARA,SAAUC,EAAK,EAALA,MAAOC,EAAG,EAAHA,IAAKC,EAAU,EAAVA,WAC9BhB,EAAQ,CACJiB,KAAMJ,EACNL,SAAAA,EACAM,MAAAA,EACAC,IAAAA,EACAC,WAAAA,EACAE,SAAS,IACX,2CACL,kBAVc,mCAafP,GACJ,GAAG,IAEH,IAAMQ,EAAY,yCAAG,WAAOC,GAAC,sEAGK,GAF9BA,EAAEC,iBACFrB,GAAQ,kBAAKD,GAAI,IAAEmB,SAAS,KAAQ,KAChCV,IAAaT,EAAKS,UAAQ,sCAAUc,EAAAA,EAAAA,IAAoBvB,EAAKS,UAAS,oDACpB,OAAlDN,EAAO,YAAD,OAAaH,EAAKS,SAAQ,oBAAkB,+DAGzD,gBAPiB,sCAalB,OACI,oBAASe,UAAU,8BAA6B,SAC3CxB,GAAO,kBAAMwB,UAAU,oEAAoEC,SAAUL,EAAa,WAC/G,iBAAKM,QAAQ,aAAaF,UAAU,0CAAyC,WACzE,gBAAKG,IAAK3B,EAAKiB,WAAYO,UAAU,+CAA+CI,IAAG,UAAKnB,EAAQ,qBACpG,iBAAMe,UAAU,2BAA2BK,QAAS,kBAAMxB,GAAa,EAAK,EAAC,gCAEjF,mBAAOmB,UAAU,2BAA2BE,QAAQ,WAAU,WAC1D,iBAAMF,UAAU,iDAAgD,wBAChE,kBAAOM,KAAM,OAAQC,MAAO/B,EAAKS,SAAUe,UAAU,kBAAkBQ,GAAG,WAAWC,SAAU,gBAAGC,EAAM,EAANA,OAAM,OAAOjC,GAAQ,kBAAKD,GAAI,IAAES,SAAUyB,EAAOH,MAAOZ,SAAS,IAAO,QAE9K,mBAAOK,UAAU,2BAA2BE,QAAQ,QAAO,WACvD,iBAAMF,UAAU,iDAAgD,qBAChE,kBAAOO,MAAO/B,EAAKe,MAAOkB,SAAU,gBAAGC,EAAM,EAANA,OAAM,OAAOjC,GAAQ,kBAAKD,GAAI,IAAEe,MAAOmB,EAAOH,MAAOZ,SAAS,IAAO,EAAEW,KAAM,QAASN,UAAU,kBAAkBQ,GAAG,cAEhK,mBAAOR,UAAU,2BAA2BE,QAAQ,OAAM,WACtD,iBAAMF,UAAU,iDAAgD,oBAChE,kBAAOO,MAAO/B,EAAKkB,KAAMe,SAAU,gBAAGC,EAAM,EAANA,OAAM,OAAOjC,GAAQ,kBAAKD,GAAI,IAAEkB,KAAMgB,EAAOH,MAAOZ,SAAS,IAAO,EAAEW,KAAM,OAAQN,UAAU,kBAAkBQ,GAAG,aAE7J,mBAAOR,UAAU,2BAA2BE,QAAQ,MAAK,WACrD,iBAAMF,UAAU,iDAAgD,mBAChE,kBAAOO,MAAO/B,EAAKgB,IAAKiB,SAAU,gBAAGC,EAAM,EAANA,OAAM,OAAOjC,GAAQ,kBAAKD,GAAI,IAAEgB,IAAKkB,EAAOH,MAAOZ,SAAS,IAAO,EAAEW,KAAM,OAAQN,UAAU,kBAAkBQ,GAAG,YAE3J,cAAGR,UAAU,WAAU,SAAEtB,KAEzB,mBAAQiC,UAAWnC,EAAKmB,QAASK,UAAS,eAAUxB,EAAKmB,SAAW,mCAAoC,oBACvGf,IAAa,SAAC,IAAK,WAAC,SAAC,IAAM,UAE1B,wCAGlB,C","sources":["pages/edit.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport Modal from '../components/modal'\r\nimport Upload from '../components/upload'\r\nimport UserContext from '../contexts/user'\r\nimport { checkUsernameExists, getUserDataByUsername } from '../firebase/backend/services'\r\n\r\nexport default function Edit() {\r\n\r\n    const [form, setForm] = useState(null)\r\n    const [err, setErr] = useState('')\r\n    const [showModal, setShowModel] = useState(false)\r\n\r\n    useEffect(() => {\r\n        document.title = \"Edit - Instagram\"\r\n    }, [])\r\n\r\n    const { username } = useContext(UserContext)\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const { fullName, email, bio, profileUrl } = await getUserDataByUsername(username)\r\n            setForm({\r\n                name: fullName,\r\n                username,\r\n                email,\r\n                bio,\r\n                profileUrl,\r\n                isValid: false\r\n            })\r\n        }\r\n\r\n\r\n        fetchUser()\r\n    }, [])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setForm({ ...form, isValid: false })\r\n        if (username !== form.username && await checkUsernameExists(form.username)) {\r\n            setErr(`Username ${form.username} already exists`)\r\n            return;\r\n        }\r\n    }\r\n\r\n    const handleImgChange = (e) => {\r\n        const file = e.target.files[0]\r\n    }\r\n\r\n    return (\r\n        <section className='p-10 border h-full text-md '>\r\n            {form ? <form className='w-[300px] mx-auto flex flex-col items-center justify-center gap-3' onSubmit={handleSubmit}>\r\n                <div htmlFor=\"profilePic\" className=\"flex w-full items-center flex-col gap-2\">\r\n                    <img src={form.profileUrl} className=\"rounded-full w-12 aspect-square object-cover\" alt={`${username}'s profile-pic`} />\r\n                    <span className='text-blue cursor-pointer' onClick={() => setShowModel(true)}>Change Profile</span>\r\n                </div>\r\n                <label className='flex w-full items-center' htmlFor=\"username\" >\r\n                    <span className='w-[25%] text-left font-semibold cursor-pointer'>Username:</span>\r\n                    <input type={\"text\"} value={form.username} className='border p-2 grow' id=\"username\" onChange={({ target }) => setForm({ ...form, username: target.value, isValid: true })} />\r\n                </label>\r\n                <label className='flex w-full items-center' htmlFor=\"email\">\r\n                    <span className='w-[25%] text-left font-semibold cursor-pointer'>Email:</span>\r\n                    <input value={form.email} onChange={({ target }) => setForm({ ...form, email: target.value, isValid: true })} type={\"email\"} className='border p-2 grow' id=\"email\" />\r\n                </label>\r\n                <label className='flex w-full items-center' htmlFor=\"name\">\r\n                    <span className='w-[25%] text-left font-semibold cursor-pointer'>Name:</span>\r\n                    <input value={form.name} onChange={({ target }) => setForm({ ...form, name: target.value, isValid: true })} type={\"text\"} className='border p-2 grow' id=\"name\" />\r\n                </label>\r\n                <label className='flex w-full items-center' htmlFor=\"bio\">\r\n                    <span className='w-[25%] text-left font-semibold cursor-pointer'>Bio:</span>\r\n                    <input value={form.bio} onChange={({ target }) => setForm({ ...form, bio: target.value, isValid: true })} type={\"text\"} className='border p-2 grow' id=\"bio\" />\r\n                </label>\r\n                <p className='text-red'>{err}</p>\r\n\r\n                <button disabled={!form.isValid} className={`btn ${!form.isValid && 'bg-lightBlue cursor-not-allowed'}`}>Submit</button>\r\n                {showModal && <Modal><Upload /></Modal>}\r\n            </form>\r\n                : <h1>Loading...</h1>}\r\n        </section>\r\n    )\r\n}\r\n"],"names":["Edit","useState","form","setForm","err","setErr","showModal","setShowModel","useEffect","document","title","username","useContext","UserContext","fetchUser","getUserDataByUsername","fullName","email","bio","profileUrl","name","isValid","handleSubmit","e","preventDefault","checkUsernameExists","className","onSubmit","htmlFor","src","alt","onClick","type","value","id","onChange","target","disabled"],"sourceRoot":""}